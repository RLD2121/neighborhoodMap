<!DOCTYPE html>
<html lang="en">>

<head>
    <meta charset="UTF-8">
    <title>Neighborhood Map</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <h1>Top Mex Food</h1>
    </header>
    <div id="map"></div>
    <script>
        var map;

        var storesMarkers = [];
        var stores = [{
                title: 'Tudy\'s Taqueria',
                location: {
                    lat: 33.877217,
                    lng: -117.581081
                }
            },
            {
                title: 'La Mazorca',
                location: {
                    lat: 33.876637,
                    lng: -117.522898
                }
            },
            {
                title: 'Sombrero\'s Mexican Food',
                location: {
                    lat: 33.84312,
                    lng: -117.533418
                }
            },
            {
                title: 'Taco Stop',
                location: {
                    lat: 33.884796,
                    lng: -117.515437
                }
            },
            {
                title: 'Burger Basket',
                location: {
                    lat: 33.876894,
                    lng: -117.582397
                }
            },
            {
                title: 'Super Taco',
                location: {
                    lat: 33.876841,
                    lng: -117.567868
                }
            },
            {
                title: 'Alamilla\'s Mexican Food',
                location: {
                    lat: 33.894601,
                    lng: -117.562968
                }
            },
            {
                title: 'Santana\'s Mexican Food',
                location: {
                    lat: 33.867562,
                    lng: -117.544551
                }
            }
        ];
        
        function initMap() {

            //List of stores

            // Constructor creates a new map - only center and zoom are required.
            map = new google.maps.Map(document.getElementById('map'), {
                center: {
                    lat: 33.875119,
                    lng: -117.566671
                },
                zoom: 14
            });

            //stores length
            var storesLength = stores.length;
            for (var i = 0; i < storesLength; i++) {

                var position = stores[i].location;
                var name = stores[i].title;

                //marker creation for each store
                var marker = new google.maps.Marker({
                    position: position,
                    map: map,
                    title: name,
                    animation: google.maps.Animation.DROP
                })

                //push each marker to 
                storesMarkers.push(marker);

                var infoWindow = new google.maps.InfoWindow();
                
                //Attach event listener to each marker 
                (function(marker, name) {

                    google.maps.event.addListener(marker, "click", function(e) {
                        infoWindow.setContent('<div>'+name+'</div>');
                        infoWindow.open(map, marker);
                    });
                })(marker, name);
            }
        }
        
//{
//  "access_token": "Y7ccCBTmgxw4sdCSpfm9Sr9QfXyRla2cI1hj4xgPux4Mg8pXiCQTYKSWtGIsJuq3YjBI6i2x9ohuH20J3t4BaiKwk3TLd_l7wbAVzS6pHEKSSaZlRHvhXikUBj0uWXYx",
//  "expires_in": 15551999,
//  "token_type": "Bearer"
//}        
        var accessToken = Y7ccCBTmgxw4sdCSpfm9Sr9QfXyRla2cI1hj4xgPux4Mg8pXiCQTYKSWtGIsJuq3YjBI6i2x9ohuH20J3t4BaiKwk3TLd_l7wbAVzS6pHEKSSaZlRHvhXikUBj0uWXYx;
        var yelpClientId = TAhxJpV53cCkvkGOCUbUwQ;
        var yelpClientSecret = qDt9We8eMeqhpbYCpDe8qRUYorhLuwzv9TkzO4ZSYLsn1Xl3sEpkADSUrp4EGIbk;
        
    </script>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBBf4cjYevE1a5unQObLqDdZwLn-BGcD2g&v=3&callback=initMap">
    </script>
    <script src="js/lib/jquery.min.js"></script>
    <script src="js/lib/knockout-3.2.0.js"></script>
</body>

</html>